---
import RenderPortableText from '../../components/RenderPortableText';
import Layout from '../../layouts/Layout.astro';
import { getArticleBySlug } from '../../services/article/getArticleBySlug';

const { slug } = Astro.params;

const article = slug && (await getArticleBySlug(slug));
if (!article) {
  return Astro.redirect('/404');
}
---

<Layout title={article.title}>
  <h1>{article.title}</h1>
  <RenderPortableText portableText={article.content} />
</Layout>
